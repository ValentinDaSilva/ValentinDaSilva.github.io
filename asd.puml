@startuml
actor Conserje
participant "UI - Estado Habitaciones" as UI
participant GestorReserva
participant HabitacionDAO
participant ReservaDAO

Conserje -> UI: Solicita verificar estado de habitaciones

UI -> Conserje: Mostrar campos "Desde fecha" y "Hasta fecha"


' -----------------------------
'      INGRESO DESDE FECHA
' -----------------------------

Conserje -> UI: Ingresa desdeFecha

UI -> GestorReserva: validarFecha(desdeFecha)
activate GestorReserva
GestorReserva --> UI: resultadoValidacion
deactivate GestorReserva

alt desdeFecha inválida
    UI -> Conserje: Mostrar mensaje de error
    UI -> Conserje: Solicitar ingreso nuevamente
end


' -----------------------------
'      INGRESO HASTA FECHA
' -----------------------------

Conserje -> UI: Ingresa hastaFecha

UI -> GestorReserva: validarFecha(hastaFecha)
activate GestorReserva
GestorReserva --> UI: resultadoValidacion
deactivate GestorReserva

alt hastaFecha inválida
    UI -> Conserje: Mostrar mensaje de error
    UI -> Conserje: Solicitar ingreso nuevamente
end


' -----------------------------
'     OBTENER ESTADO HABITACIONES
' -----------------------------

UI -> GestorReserva: obtenerEstadoHabitaciones(desde,hasta)
activate GestorReserva

GestorReserva -> HabitacionDAO: listarHabitaciones()
activate HabitacionDAO
HabitacionDAO --> GestorReserva: listaHabitaciones
deactivate HabitacionDAO

GestorReserva -> ReservaDAO: buscarReservasEntre(desde,hasta)
activate ReservaDAO
ReservaDAO --> GestorReserva: listaReservas
deactivate ReservaDAO

GestorReserva --> UI: estadoHabitaciones
deactivate GestorReserva


' -----------------------------
'     MOSTRAR RESULTADO
' -----------------------------

UI -> Conserje: Mostrar grilla de habitaciones con estados

Conserje -> UI: Visualiza estado de habitaciones

@enduml
