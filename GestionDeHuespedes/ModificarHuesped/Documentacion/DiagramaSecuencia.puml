@startuml
actor Conserje
participant "UI - Dar Alta Huesped" as UI
participant GestorHuesped
participant Huesped
participant HuespedDAO

Conserje -> UI: Solicita dar de alta un huésped
UI -> UI: cargar huesped a modificar
UI -> Conserje: Solicitar ingreso de datos
Conserje --> UI: Ingresa los datos y presiona uno de tres botones

alt Botón = Guardar || Boton = Borrar
    UI -> GestorHuesped: modificarHuesped()
    activate GestorHuesped
    GestorHuesped->UI: extraerDatosDeLaUI()
    UI-->GestorHuesped:datos ingresados
    GestorHuesped->GestorHuesped:validarDatos(datos ingresados)
    alt datos incorrectos
        GestorHuesped->UI: mensajeError("Hay campos que tiene valores incorrectos")
        UI->Conserje: solicita ingresar los datos nuevamente
    else
        GestorHuesped -> GestorHuesped: modificarHuesped(datosIngresados)
        create Huesped
        GestorHuesped --> Huesped: <<create>>
        activate Huesped
        Huesped --> GestorHuesped: h: instanciaHuesped
        deactivate Huesped
        alt Boton = Guardar
            GestorHuesped -> HuespedDAO: modificarHuesped(h)
            activate HuespedDAO
            HuespedDAO --> GestorHuesped: resultado
            deactivate HuespedDAO

            alt Documento ya existente
                GestorHuesped -> UI: Mostrar cartel "Documento ya existe\nCORREGIR o ACEPTAR"
                UI -> Conserje: Solicita opción
                Conserje --> UI: opcion

                alt CORREGIR
                    UI --> GestorHuesped: opcionCorregir
                    GestorHuesped -> UI: enfocarCampoDocumento()

                else ACEPTAR IGUALMENTE
                    UI --> GestorHuesped: opcionAceptar

                    GestorHuesped -> HuespedDAO: modificarHuesped(h)
                    activate HuespedDAO
                    HuespedDAO --> GestorHuesped: resultado
                    deactivate HuespedDAO
                end
                GestorHuesped->UI: mensaje("La operación ha culminado con éxito”")
                GestorHuesped->UI: volverALaPantallaDeInicio()
        else Boton = Borrar
            GestorHuesped->HuespedDAO:eliminarHuesped()
            HuespedDAO-->GestorHuesped:respueta
            alt huesped ya hospedado anteriormente
                GestorHuesped->UI: mostrar mensaje que no puede ser eliminado
                UI->Conserje: Solicita ingresar cualquier tecla
                Conserje-->UI: Ingresa una tecla
                UI-->GestorHuesped
                GestorHuesped->UI: volverALaPantallaDeInicio()
            else huesped no hospedado 
                GestorHuesped->UI: mostrar mensaje con los datos del huesped
                UI->Conserje: Solicita elegir dos botones "Eliminar" o "Cancelar"
                Conserje-->UI:Selecciona un boton
                UI-->GestorHuesped: seleccion del usuario
                alt Eliminar
                    GestorHuesped->UI: mostrar mensaje de exito
                    UI->Conserje: Solicita ingresar cualquier tecla
                    Conserje-->UI: Ingresa una tecla
                    UI-->GestorHuesped
                    GestorHuesped->UI:volverALaPantallaDeInicio()
                else Cancelar
                    GestorHuesped->UI:volverALaPantallaDeInicio()
                end
            end
        end
    end
    end
else Botón = Cancelar
    UI -> GestorHuesped: cancelarAlta()
    GestorHuesped -> UI: volverALaPantallaDeInicio()
end

deactivate GestorHuesped
@enduml"
